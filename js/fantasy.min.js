(function(ap){var I,h,l,J,N,e,X,C,aD,aB,R;var aN;var n=false;var G="2014";function aK(aO){return ap.get("http://"+window.location.host+"/page_element/ajax/"+aO+".json")}if(sessionStorage.leagues){n=true}else{ap.when(aK(34165705),aK(43822945),aK(34165706),aK(34165707),aK(34203274),aK(34206192),aK(34248833),aK(34580984),aK(35226600),aK(35625525),aK(43822793),aK(43838538),aK(43838543)).done(function(aP,aS,aZ,a0,aR,aW,aX,aU,aV,aO,aY,aT,aQ){l=aP[0];J=aS[0];I=aZ[0];scores=aW[0];h=a0[0];N=aR[0];trophyDetails=aO[0];e=aX[0];X=aU[0];C=aV[0];aD=aY[0];aB=aT[0];R=aQ[0];sessionStorage.setItem("currentSeason",JSON.stringify(G));ap("body").trigger("dataReady")}).fail(function(){ap("body").prepend('<div class="failure">Shit, that wasn\'t supposed to happen. REFRESH!</div>');ap(".failure").slideDown()})}ap(document).on("dataReady","body",function(){if(!n&&!sessionStorage.leagues){for(var bm=0;bm<I.length;bm++){var aY=I[bm];aY.seasons=aY.seasons.split(", ");aY.conferenceID=aY.conferenceID.split(",");aY.teamName=(aY.teamName!=null)?aY.teamName.split(","):[aY.teamOwner];if(aY.teamName.length!==aY.seasons.length){for(var bo=aY.teamName.length;bo<aY.seasons.length;bo++){aY.teamName[bo]=aY.teamName[bo-1]}}aY.trophies=W(aY.teamID);var aP=L(aY.teamID);aY.historicalRecords={wins:0,losses:0,ties:0,madePlayoffs:0,playoffWins:0,playoffLosses:0,seasons:aP};var bv=aY.historicalRecords;for(var bE=0;bE<aP.length;bE++){var bk=aP[bE];bv.wins+=parseInt(bk.wins)||0;bv.losses+=parseInt(bk.losses)||0;bv.madePlayoffs+=parseInt(bk.playoffs)||0;bv.playoffWins+=parseInt(bk.playoffWins)||0;bv.playoffLosses+=parseInt(bk.playoffLosses)||0}var bc={};var bF={};for(var bo=0;bo<aY.seasons.length;bo++){var br=aY.seasons[bo];bc[br]=aY.teamName[bo];bF[br]=aY.conferenceID[bo]}aY.teamName=bc;aY.conferenceID=bF;aY.head2head=[];for(var bn=0;bn<I.length;bn++){var bK=I[bn];aY.head2head.push({teamID:bK.teamID,wins:0,losses:0,ties:0,winPct:0,pointsScored:0,pointsAgainst:0,playoffWins:0,playoffLosses:0,playoffPointsScored:0,playoffPointsAgainst:0})}}for(var bw=0;bw<l.length;bw++){var bl=l[bw];bl.season=bl.season.split(", ");var aW=bl.season;bl.seasons={};var a6=bl.leagueID;for(var bo=0;bo<aW.length;bo++){var br=aW[bo];var aX=P(a6,br);var bG=aM(a6,br);var aR=aw(a6,br);var bh=ao(aX);for(var ba=0;ba<aX.length;ba++){var bI=aX[ba];var bB=bI.teamID;var a0=0;for(var aS in bI){if(aS!=="teamID"&&aS!=="leagueID"&&aS!=="season"){var aT=parseInt(aS.slice(4));if(aT<bh){a0+=parseFloat(bI[aS])}}}for(var a2=0;a2<bG.length;a2++){if(bG[a2].teamID==bB){bG[a2].pointsScored=a0;break}}}for(var a3=0;a3<aR.length;a3++){var a9=aR[a3];a9.awayTeamScore=parseFloat(U(aX,a9.awayTeam,a9.week));a9.homeTeamScore=parseFloat(U(aX,a9.homeTeam,a9.week));var bs=a9.awayTeam;var aO=a9.homeTeam;var bJ=parseInt(a9.conferenceID);if(parseInt(a9.week)<bh){if(a9.homeTeamScore>a9.awayTeamScore){al(bs);aJ(aO);an(aO,bs,false,a9.homeTeamScore,a9.awayTeamScore)}else{if(a9.homeTeamScore<a9.awayTeamScore){al(aO);aJ(bs);an(bs,aO,false,a9.awayTeamScore,a9.homeTeamScore)}}}for(var a2=0;a2<bG.length;a2++){teamStandings=bG[a2];if(parseInt(a9.week)<bh){if(teamStandings.teamID==bs){if(isNaN(parseFloat(teamStandings.pointsAgainst))){teamStandings.pointsAgainst=0}teamStandings.pointsAgainst+=a9.homeTeamScore;if(a9.homeTeamScore>a9.awayTeamScore){teamStandings.losses+=1;if(bJ>0){teamStandings.leagueLosses+=1}}else{if(a9.homeTeamScore<a9.awayTeamScore){teamStandings.wins+=1;if(bJ>0){teamStandings.leagueWins+=1}}}}else{if(teamStandings.teamID==aO){if(isNaN(parseFloat(teamStandings.pointsAgainst))){teamStandings.pointsAgainst=0}teamStandings.pointsAgainst+=a9.awayTeamScore;if(a9.homeTeamScore>a9.awayTeamScore){teamStandings.wins+=1;if(bJ>0){teamStandings.leagueWins+=1}}else{if(a9.homeTeamScore<a9.awayTeamScore){teamStandings.losses+=1;if(bJ>0){teamStandings.leagueLosses+=1}}}}}}}}for(var a1=0;a1<bG.length;a1++){var aY=bG[a1];var bf=aY.wins;var aV=aY.losses;var bd=aY.leagueWins;var a5=aY.leagueLosses;aY.allPlayWins=0;aY.allPlayLosses=0;aY.allPlayWinPct="";if(!bf){aY.wins=0}if(!aV){aY.losses=0}if(!bd){aY.leagueWins=0}if(!a5){aY.leagueLosses=0}if(!aY.pointsScored){aY.pointsScored=0}if(!aY.pointsAgainst){aY.pointsAgainst=0}aY.winPct=aI(aY.teamID,br);aY.leagueWinPct=ay(aY.teamID,br)}for(var bC=1;bC<bh;bC++){var aU=aX;aU.sort(function(bM,bL){return aa(bM["week"+bC],bL["week"+bC])});for(var bA=0;bA<aU.length;bA++){var aY=aU[bA];var bB=aY.teamID;for(var bz=0;bz<bG.length;bz++){teamStandings=bG[bz];if(teamStandings.teamID==bB){teamStandings.allPlayWins+=28-(bA+1);teamStandings.allPlayLosses+=bA;teamStandings.allPlayWinPct=(teamStandings.allPlayWins/(teamStandings.allPlayLosses+teamStandings.allPlayWins)).toFixed(3);break}}}}bG.sort(function(bM,bL){return aa(bM.winPct,bL.winPct)||aa(bM.pointsScored,bL.pointsScored)});for(var bC=0;bC<bG.length;bC++){var aY=bG[bC];aY.overallRank=bC+1}for(var bC=0;bC<J.length;bC++){var bJ=J[bC];var a4=ar(bG,bJ.conferenceID);for(var bA=0;bA<a4.length;bA++){var aY=a4[bA];aY.leagueRank=bA+1}}var bi=aL(a6,br);var bD=aC(a6,br);var be=ax(a6,br);var bq={teams:bi,rounds:[]};for(var bm=0;bm<bq.teams.length;bm++){var aY=bq.teams[bm];c(aY.teamID)}for(var bH=0;bH<be.length;bH++){var a9=be[bH];var bj=a9.conferenceID;var by=a9.round;var aO,bs;var a8=a9.homeSeed;if(a8){a9.homeSeedScore=D(a8,bj,by,bD);aO=Y(bj,a8,a6,br)}var aZ=a9.awaySeed;if(aZ){a9.awaySeedScore=D(aZ,bj,by,bD);bs=Y(bj,aZ,a6,br)}if(parseFloat(a9.homeSeedScore)>parseFloat(a9.awaySeedScore)&&!a9.thirdPlace){O(aO.teamID);av(bs.teamID);an(aO.teamID,bs.teamID,true,a9.homeSeedScore,a9.awaySeedScore)}else{if(parseFloat(a9.homeSeedScore)<parseFloat(a9.awaySeedScore)&&!a9.thirdPlace){O(bs.teamID);av(aO.teamID);an(bs.teamID,aO.teamID,true,a9.awaySeedScore,a9.homeSeedScore)}}}var bx=0;for(var by in bD[0]){if(by!=="leagueID"&&by!=="conferenceID"&&by!=="seedID"&&by!=="season"){bx++}}for(var bp=1;bp<=bx;bp++){var by={round:bp,conferenceSchedule:{}};var bu=a(be,bp);for(var bH=0;bH<bu.length;bH++){var a9=bu[bH];var bj=a9.conferenceID;if(a9.championship||a9.thirdPlace){by.roundType="finals"}else{by.roundType="conference"}if(a9.championship||a9.thirdPlace){var a7=(a9.championship)?"championshipGame":"thirdPlaceGame";if(!by[a7]){by[a7]=a9}else{if(by[a7].awaySeed){by[a7].homeSeed=a9.homeSeed||a9.awaySeed;by[a7].homeSeedScore=a9.homeSeedScore||a9.awaySeedScore;by[a7].homeSeedConference=a9.conferenceID}else{by[a7].awaySeed=a9.awaySeed||a9.homeSeed;by[a7].awaySeedScore=a9.awaySeedScore||a9.homeSeedScore;by[a7].awaySeedConference=a9.conferenceID}var bt=by[a7].homeSeedConference||by[a7].conferenceID;var bg=by[a7].awaySeedConference||by[a7].conferenceID;var aO=Y(bt,by[a7].homeSeed,a6,br);var bs=Y(bg,by[a7].awaySeed,a6,br);if(parseFloat(by[a7].homeSeedScore)>parseFloat(by[a7].awaySeedScore)&&!a9.thirdPlace){O(aO.teamID);av(bs.teamID);an(aO.teamID,bs.teamID,true,by[a7].homeSeedScore,by[a7].awaySeedScore)}else{if(parseFloat(by[a7].homeSeedScore)<parseFloat(by[a7].awaySeedScore)&&!a9.thirdPlace){O(bs.teamID);av(aO.teamID);an(bs.teamID,aO.teamID,true,by[a7].homeSeedScore,by[a7].awaySeedScore)}}}}if(!by.conferenceSchedule[bj]){by.conferenceSchedule[bj]=[]}by.conferenceSchedule[bj].push(a9)}bq.rounds.push(by)}bl.seasons[br]={};bl.seasons[br].latestWeek=bh;bl.seasons[br]["standings"]=bG;bl.seasons[br]["schedule"]=aR;bl.seasons[br]["scores"]=aX;bl.seasons[br]["projections"]=ae(a6,br);bl.seasons[br]["teams"]=aF(a6,br);bl.seasons[br]["conferences"]=ag(a6,br);bl.seasons[br]["playoffs"]=bq;for(var bm=0;bm<I.length;bm++){var aY=I[bm];if(aY.leagueID!==a6){break}if(aY.seasons.indexOf(br)<0){continue}var aQ;if(br===G){aQ="*"}else{aQ=s(aY.teamID,a6,br)}var bb={teamID:aY.teamID,leagueID:a6,wins:ab(aY.teamID,a6,br).split("-")[0],losses:ab(aY.teamID,a6,br).split("-")[1],finish:aQ,season:br,playoffs:k(aY.teamID,a6,br)};aY.historicalRecords.seasons.push(bb)}}sessionStorage.setItem("leagues",JSON.stringify(l));sessionStorage.setItem("teams",JSON.stringify(I));sessionStorage.setItem("trophyWinners",JSON.stringify(N));sessionStorage.setItem("trophies",JSON.stringify(trophyDetails))}}else{l=JSON.parse(JSON.parse(sessionStorage.leagues));I=JSON.parse(JSON.parse(sessionStorage.teams));N=JSON.parse(JSON.parse(sessionStorage.trophyWinners));trophyDetails=JSON.parse(JSON.parse(sessionStorage.trophies));G=JSON.parse(sessionStorage.currentSeason)||G}ap(".season-switcher").each(function(){ap("div[data-season]").attr("data-season",G);if(ap(this).children().length>0){return}var bO=ap(this).attr("data-league");var bL;if(ap(this).attr("data-team")){bL=w(ap(this).attr("data-team")).seasons}else{bL=i(bO)}ap(this).append('<span>Season: </span><select class="switch" />');for(var bN=0;bN<bL.length;bN++){var bP=bL[bN];var bM=(parseInt(bP)===parseInt(G))?' selected="selected"':"";ap(this).find(".switch").append('<option value="'+bP+'"'+bM+">"+bP+"</option>")}if(bL.length===1){ap("div[data-season]").attr("data-season",bL[0]);ap(this).find(".switch").prop("disabled","disabled");return}ap(this).find(".switch").change(function(bQ){ap("div[data-season]").attr("data-season",ap(this).val());ap("div[data-season]").each(function(){if(ap(this).children()){ap(this).children().fadeOut(200).remove()}});G=ap(this).val();sessionStorage.setItem("currentSeason",G);aN=aj(bO,G);ap("body").trigger("dataReady")})});aN=aj("1",G);ap(".standings").each(function(){var bR=ap(this).attr("data-season");var bN;if(ap(this).attr("data-team")){var bM=w(ap(this).attr("data-team"));bN=bM.leagueID}else{bN=ap(this).attr("data-league")}var bU=q(bN,bR);if(ap(this).attr("data-type")==="h2h"){bU=S(bM.teamID)}ap(this).append('<table class="dataTable" />');var bT=ap(this).find("table");bT.append("<thead /><tbody />");if(ap(this).attr("data-type")==="h2h"){bT.find("tbody").append('<tr><th class="team">Team</th><th class="wins">W</th><th class="losses">L</th><th class="wPct">Pct</th><th class="points">Points</th><th class="pointsAgainst">Pts. Against</th><th class="playoffWins">Playoff Wins</th><th class="playoffLosses">Playoff Losses</th></tr>')}else{bT.find("thead").append('<tr class="super"><th colspan="3"></th><th colspan="3">Overall</th><th></th><th colspan="3">League</th></tr>');bT.find("thead").append('<tr><th class="rank">Rank</th><th class="team">Team</th><th class="league">Conference</th><th class="oWins">W</th><th class="oLosses">L</th><th class="oWPct">Pct</th><th class="points">Points</th><th class="lWins">W</th><th class="lLosses">L</th><th class="lWPct">Pct</th><th class="draft">Drafted</th></tr>')}for(var bQ=0;bQ<bU.length;bQ++){var bP=bU[bQ];var bM=w(bP.teamID);var bL=at(bP.conferenceID,bN,bR);var bS=au(bP.teamID);var bO=M(bP.teamID,bR);if(ap(this).attr("data-type")==="h2h"){bT.find("tbody").append('<tr class="team'+bM.teamID+'"><td class="team">'+bS+M(bP.teamID,null)+'</td><td class="wins">'+bP.wins+'</td><td class="losses">'+bP.losses+'</td><td class="wPct">'+bP.winPct+'</td><td class="points">'+bP.pointsScored.toFixed(2)+'</td><td class="pointsAgainst">'+bP.pointsAgainst.toFixed(2)+'</td><td class="playoffWins">'+bP.playoffWins+'</td><td class="playoffLosses">'+bP.playoffLosses+"</td></tr>")}else{bT.find("tbody").append('<tr class="team'+bM.teamID+" "+bL.conferenceName+'"><td class="rank">'+bP.overallRank+'</td><td class="team">'+bS+bO+'</td><td class="league">'+bL.conferenceName+'</td><td class="oWins">'+bP.wins+'</td><td class="oLosses">'+bP.losses+'</td><td class="oWPct">'+bP.winPct+'</td><td class="points">'+bP.pointsScored.toFixed(2)+'</td><td class="lWins">'+bP.leagueWins+'</td><td class="lLosses">'+bP.leagueLosses+'</td><td class="lWPct">'+bP.leagueWinPct+'</td><td class="draft">'+bP.draftPosition+"</td></tr>")}}if(ap(this).attr("data-team")){var bM=ap(this).attr("data-team");ap(this).find(".team"+bM).addClass("highlight")}ap(this).fadeTo(500,1)});ap(".power").each(function(){var bR=ap(this).attr("data-season");var bN=ap(this).attr("data-league");var bV=q(bN,bR).slice(0);bV.sort(function(bX,bW){return aa(bX.allPlayWinPct,bW.allPlayWinPct)||aa(bX.pointsScored,bW.pointsScored)});ap(this).append('<table class="dataTable" />');var bU=ap(this).find("table");bU.append("<thead /><tbody />");bU.find("thead").append('<tr><th class="rank">Rank</th><th class="team">Team</th><th class="league">Conference</th><th class="leagueWinPct">All Play Pct</th><th class="points">Points Average</th><th class="pointsAgainst">Points Against Average</th>');for(var bQ=0;bQ<bV.length;bQ++){var bP=bV[bQ];var bM=w(bP.teamID);var bL=at(bP.conferenceID,bN,bR);var bS=au(bP.teamID);var bO=M(bP.teamID,bR);var bT=bQ+1;bP.powerRank=bT;bU.find("tbody").append('<tr class="team'+bM.teamID+" "+bL.conferenceName+'"><td class="rank">'+bT+'</td><td class="team">'+bS+bO+'</td><td class="league">'+bL.conferenceName+'</td><td class="leagueWinPct">'+bP.allPlayWinPct+'</td><td class="points">'+ah(bP.teamID,bN,bR)+'</td><td class="pointsAgainst">'+B(bP.teamID,bN,bR)+"</td></tr>");ap(this).find(".team"+bM.teamID+" .teamLink").append(' <span class="record">('+bP.wins+"-"+bP.losses+")</span>")}if(ap(this).attr("data-team")){var bM=ap(this).attr("data-team");ap(this).find(".team"+bM).addClass("highlight")}ap(this).fadeTo(500,1)});ap(".schedule").each(function(){var bS=[];var b5=false;var cd=false;var b6=false;var ch=ap(this).attr("data-season");var b0=ap(this).attr("data-league")||"1";if(ap(this).attr("data-team")&&ap(this).attr("data-type")==="next"){var bT=ap(this).attr("data-team");bS=b(bT,"next",b0,ch);ap(this).addClass("individual next");var cd=true;var b6=true}else{if(ap(this).attr("data-team")){var bT=ap(this).attr("data-team");var b0=w(bT).leagueID;bS=d(bT,b0,ch);ap(this).addClass("individual");var cd=true}else{if(ap(this).attr("data-type")==="next"){var bS=j(aN)}else{if(ap(this).attr("data-type")==="matchup"){var bR=ap(this).attr("data-week");var b3=ap(this).attr("data-team1");var b2=ap(this).attr("data-team2");var bS=v(b3,b2,bR,b0,ch)}else{if(ap(this).attr("data-type")==="full"){var bS=V(b0,ch);b5=true;ap(this).prepend('<div class="weeklyFilter"><ul /></div>')}}}}}if(!bS){return}for(var cl=0;cl<bS.length;cl++){var b4=bS[cl];var bR=b4.week;var b0=b4.leagueID;var cp=at(b4.conferenceID,b0,ch);var ci=w(b4.awayTeam);var b8=parseFloat(b4.awayTeamScore);var ca=parseFloat(z(ci.teamID,bR,b0,ch));var cf=aG(b4.awayTeam,b0,ch);var bL=w(b4.homeTeam);var bX=parseFloat(b4.homeTeamScore);var cb=parseFloat(z(bL.teamID,bR,b0,ch));var bM=aG(b4.homeTeam,b0,ch);var co=(cp)?" conferenceGame":" nonConferenceGame";var cc=ap(this).find("#week"+bR).length;if(cc>0){ap(this).find("#week"+bR).append('<div class="game game'+cl+co+'" />')}else{if(cd&&b6){ap(this).append('<div id="week'+bR+'" class="week"><h2>Next Matchup <span>Week '+bR+"</span></h2></div>")}else{ap(this).append('<div id="week'+bR+'" class="week"><h2>Week '+bR+"</h2></div>")}if(b5){ap(this).find(".weeklyFilter ul").append('<li><a href="#week'+bR+'" class="weekLink">Week '+bR+"</a></li>")}ap(this).find("#week"+bR).append('<div class="game game'+cl+co+'" />')}var b7=ap(this).find(".game"+cl);b7.append('<div class="awayTeam" /><div class="homeTeam" />');b7.find(".awayTeam").append(au(ci.teamID));b7.find(".awayTeam").append('<a href="'+ci.link+'" class="teamName" title="'+ci.teamName[ch]+" ("+cf+')">'+ci.teamName[ch]+' <span class="record">( '+cf+" )</span></a>");if(isNaN(b8)){awayTeamScoreText="-"}else{awayTeamScoreText=b8.toFixed(2)}b7.find(".awayTeam").append('<span class="score">'+awayTeamScoreText+"</span>");if(!isNaN(ca)){b7.find(".awayTeam .score").append('<span class="projected">( '+ca+" )</span>")}b7.find(".homeTeam").append(au(bL.teamID));b7.find(".homeTeam").append('<a href="'+bL.link+'" class="teamName" title="'+bL.teamName[ch]+" ("+bM+')">'+bL.teamName[ch]+' <span class="record">( '+bM+" )</span></a>");if(isNaN(bX)){homeTeamScoreText="-"}else{homeTeamScoreText=bX.toFixed(2)}b7.find(".homeTeam").append('<span class="score">'+homeTeamScoreText+"</span>");if(!isNaN(cb)){b7.find(".homeTeam .score").append('<span class="projected">( '+cb+" )</span>")}if(bX>b8){b7.find(".homeTeam").addClass("boom");b7.find(".awayTeam").addClass("loser")}else{if(bX<b8){b7.find(".awayTeam").addClass("boom");b7.find(".homeTeam").addClass("loser")}}var cj=at(ci.conferenceID[ch],b0,ch);var b1=s(b4.awayTeam,b0,ch);var bW=aE(b4.awayTeam,b0,ch);var ce=T(b4.awayTeam,b0,ch);var bU=ah(b4.awayTeam,b0,ch);var bO=az(b4.awayTeam,b0,ch);var bZ=W(b4.awayTeam);var bP=at(bL.conferenceID[ch],b0,ch);var b9=s(b4.homeTeam,b0,ch);var bY=aE(b4.homeTeam,b0,ch);var bN=T(b4.homeTeam,b0,ch);var bV=ah(b4.homeTeam,b0,ch);var cg=az(b4.homeTeam,b0,ch);var cm=W(b4.homeTeam);b7.append('<ul class="compare key"><li>League</li><li>Overall Rank</li><li>League Rank</li><li>Total Points</li><li>Weekly Average</li><li>Performance</li><li>Trophies</li></ul>');b7.find(".awayTeam").append('<ul class="compare"><li>'+cj.conferenceName+"</li><li>"+b1+"</li><li>"+bW+"</li><li>"+ce+"</li><li>"+bU+"</li><li>"+bO+"</li><li>"+bZ.length+"</li></ul>");b7.find(".homeTeam").append('<ul class="compare"><li>'+bP.conferenceName+"</li><li>"+b9+"</li><li>"+bY+"</li><li>"+bN+"</li><li>"+bV+"</li><li>"+cg+"</li><li>"+cm.length+"</li></ul>")}if(ap(this).attr("data-style")){var bQ=ap(this).attr("data-style");ap(this).addClass(bQ);if(b5){ap(this).find(".weeklyFilter ul").append('<li><a href="#" class="scheduleLink" data-style="block">Block</a></li><li><a href="#" class="scheduleLink" data-style="list">List</a></li>');ap('.scheduleLink[data-style="'+bQ+'"]').addClass("selected")}ap(".list .game").click(function(){ap(this).find(".compare").slideToggle(400)});if(ap(this).attr("data-type")==="matchup"){ap(this).find(".compare").show()}}var cn=0;var ck=272;ap(window).scroll(function(){cn=ap(window).scrollTop();if(cn<=ck){ap(".weeklyFilter").removeClass("fixed")}if(cn>=ck){ap(".weeklyFilter").addClass("fixed")}});ap(".weeklyFilter .scheduleLink").click(function(cr){ap(".weeklyFilter .scheduleLink").removeClass("selected");ap(this).addClass("selected");var cq=ap(this).attr("data-style");ap(this).parents(".schedule").removeClass("block list").addClass(cq);if(cq==="list"){ap(".list .game").click(function(){ap(this).find(".compare").slideToggle(400)})}else{ap(".game .compare").slideUp(100);ap(".game").off()}cr.preventDefault()});ap(".weeklyFilter .weekLink").click(function(){ap(".weeklyFilter .weekLink").removeClass("selected");ap(this).addClass("selected")});ap.localScroll({lazy:true,duration:300});ap(this).fadeTo(500,1)});ap(".projections").each(function(){var bM=ap(this).attr("data-week");var bS=ap(this).attr("data-season");var bO=ap(this).attr("data-league")||"1";var bT=Q(bO,bS,bM);ap(this).append('<table class="dataTable" />');var bV=ap(this).find("table");bV.append("<thead /><tbody />");bV.find("thead").append('<tr><th class="rank">Rank</th><th class="team">Team</th><th class="league">Conference</th><th class="points">Projected Points</th></tr>');for(var bR=0;bR<bT.length;bR++){var bQ=bT[bR];var bN=w(bQ.teamID);var bL=at(bN.conferenceID[bS],bO,bS);var bU=au(bQ.teamID);var bP=M(bQ.teamID,bS);bV.find("tbody").append('<tr class="team'+bN.teamID+" "+bL.conferenceName+'"><td class="rank">'+(bR+1)+'.</td><td class="team">'+bU+bP+'</td><td class="league">'+bL.conferenceName+'</td><td class="points">'+bQ["week"+bM]+"</td></tr>")}ap(this).fadeTo(500,1)});ap(".cards").each(function(){var bS=[];var b0=false;var b5=ap(this).attr("data-season");var bL=ap(this).attr("data-league");if(ap(this).attr("data-team")){var b2=ap(this).attr("data-team");bS.push(w(b2));ap(this).addClass("single");var b0=true}else{var bS=(b5)?t(bL,b5):I}for(var bZ=0;bZ<bS.length;bZ++){var bM=bS[bZ];var b2=bM.teamID;bL=bM.leagueID;var bT=bM.conferenceID[b5];var bY=at(bT,bL,b5);var b3=bM.teamName[b5];var bP=bM.teamOwner;var bU=au(b2);var bW=bM.twitter;var b1="http://games.espn.go.com/ffl/clubhouse?leagueId="+bM.espnLeague+"&teamId="+bM.espnTeam+"&seasonId="+b5;var bR=aA(b2,bL,b5);ap(this).append('<div class="team'+(bZ+1)+" card "+bY.conferenceName+'" />');var bN=ap(this).find(".team"+(bZ+1));bN.append(bU);bN.append('<h1><a href="'+bM.link+'">'+b3+"</a></h1>");bN.append("<h3>"+bP+"</h3>");if(b0){if(bW){bN.find("h3").append('<a href="http://twitter.com/'+bW+'" class="twitter">@'+bW+"</a>")}bN.find("h3").append('<a href="'+b1+'" class="espn"></a>')}bN.append('<h5 class="league">Sport Ngin '+bY.conferenceName+"</h5>");if(bR.overallRank){bN.append('<ul class="ranks"><li>'+bR.overallRank+"<span>Overall Rank</span></li><li>"+bR.leagueRank+"<span>League Rank</span></li></ul>")}bN.append('<ul class="stats" />');var b4=bN.find(".stats");var bQ=aG(bR);b4.append('<li class="record">'+bQ+'<span class="cat">'+b5+" Record</span></li>");var bX=bR.pointsScored.toFixed(1);b4.append('<li class="points">'+bX+'<span class="cat">Points</span></li>');if(b0){b4.append('<li class="weeklyAverage">'+ah(b2,bL,b5)+'<span class="cat">Weekly Avg</span></li>');b4.append('<li class="performance">'+az(b2,bL,b5)+'<span class="cat">Performance</span></li>')}var bV=W(b2);var bO=(bV.length===1)?"Trophy":"Trophies";b4.append('<li class="trophies">'+bV.length+'<span class="cat">'+bO+"</span></li>");if(b0){b4.append('<li class="overallRecord">'+E(b2)+'<span class="cat">Career Record</span></li>');b4.append('<li class="playoffAppearances">'+bM.historicalRecords.madePlayoffs+'<span class="cat">Playoff Apperances</span></li>');b4.append('<li class="playoffRecord">'+A(b2)+'<span class="cat">Playoff Record</span></li>')}}ap(".cards .card").each(function(){var b6=ap(this).find("img");var b7=ap(this).find("h1");b6.load(function(){if(b7.height()>parseInt(b7.css("line-height"),10)){b7.addClass("wrapped")}})});ap(this).fadeTo(500,1)});ap(".trophy").each(function(){if(ap(this).children().length>0){return}var bO=ap(this).attr("data-league")?ap(this).attr("data-league"):"1";var bN=[];if(ap(this).attr("data-team")){var bZ=ap(this).attr("data-team");bN=W(bZ)}else{if(ap(this).attr("data-week")){var bL=ap(this).attr("data-week");var bY=ap(this).attr("data-season");bN=K(bL,bY,bO)}else{bN=N}}ap(this).append('<ul class="trophyList" />');var bV=ap(this).find(".trophyList");if(bN.length===0){bV.append("<h3>No Trophies earned yet</h3>")}for(var bS=0;bS<bN.length;bS++){var bW=bN[bS];var bM=w(bW.teamID);var bR=x(bW.leagueID);var bQ=f(bW.trophyID);var bX=bQ.trophyName;var bT=bQ.description;var bP=bW.earned;var bU=bX.replace(/ /g,"");var bU=bU.replace(/\'/g,"");var bU=bU.charAt(0).toLowerCase()+bU.slice(1);bV.append('<li class="'+bU+'"><span class="trophyWrap"><h2>'+bX+"</h2><h3>"+bT+"</h3><h4>Earned in "+bP+'</h4><h5 class="league">'+bR.leagueName+"</h5></span></li>");if(ap(this).attr("data-week")){var b0=au(bW.teamID);bV.find("."+bU).last().append(b0)}}ap(this).fadeTo(500,1)});ap(".history").each(function(){if(ap(this).children().length>0){return}var bR=[];if(ap(this).attr("data-team")){var bS=ap(this).attr("data-team");bR=g(bS);bR.sort(function(bW,bV){return aa(bW.season,bV.season)})}else{bR=X}if(bR.length>0){ap(this).append('<table class="dataTable" />');var bT=ap(this).find("table");bT.append("<thead /><tbody />");bT.find("thead").append("<tr><th>Year</th><th>League</th><th>Record (Finish)</th></tr>")}else{ap(this).append("<h3>Rook Ass Noob</h3>")}for(var bP=0;bP<bR.length;bP++){var bU=bR[bP];var bM=w(bU.teamID);var bN=x(bU.leagueID);var bQ=bU.wins+"-"+bU.losses;var bO=parseInt(bU.finish);var bL=(bU.playoffs)?'<sup class="madePlayoffs">$$</sup>':"";if(isNaN(bO)){bO="*"}else{if(bO===1||bO===21){bO+="st"}else{if(bO===2||bO===22){bO+="nd"}else{if(bO===3||bO===23){bO+="rd"}else{bO+="th"}}}}bT.find("tbody").prepend("<tr><td>"+bU.season+"</td><td>"+bN.leagueName+"</td><td>"+bQ+' <span class="rank">('+bO+")</span>"+bL+"</td></tr>")}ap(this).find("table").after("<small>$$ - Made Playoffs</small>");ap(this).fadeTo(500,1)});ap(".records").each(function(){var bW=ap(this).attr("data-record");var bO=ap(this).attr("data-league");var bZ=parseInt(ap(this).attr("data-show"))||5;var bR=[];var bV=[];var bS=l[bO-1];ap(this).append('<table class="dataTable" />');for(var b1=0;b1<bS.season.length;b1++){var bY=bS.season[b1];if(bW==="highest"||bW==="lowest"){var bQ=bS.seasons[bY].scores;for(var bT=0;bT<bQ.length;bT++){var bM=bQ[bT];for(var bP in bM){if(bP!=="teamID"&&bP!=="leagueID"&&bP!=="season"&&!isNaN(parseFloat(bM[bP]))){var bU=bP[0].toUpperCase()+bP.slice(1,4)+" "+bP.slice(4);bR.push({teamID:bM.teamID,score:bM[bP],week:bU,season:bM.season})}}}}}if(bW==="wins"||bW==="winpct"){for(var b0=0;b0<I.length;b0++){var bN=I[b0];var bX=parseInt(bN.historicalRecords.wins)/(parseInt(bN.historicalRecords.wins)+parseInt(bN.historicalRecords.losses));if(isNaN(bX)){bX=0}bR.push({teamID:bN.teamID,wins:bN.historicalRecords.wins,losses:bN.historicalRecords.losses,winpct:bX.toFixed(3),seasons:bN.historicalRecords.seasons.length})}}switch(bW){case"highest":bR.sort(function(b3,b2){return aa(b3.score,b2.score)});ap(this).prepend("<h1>Highest Score</h1>");bV=["teamID","score","week","season"];break;case"lowest":bR.sort(function(b2,b3){return aa(b3.score,b2.score)});ap(this).prepend("<h1>Lowest Score</h1>");bV=["teamID","score","week","season"];break;case"winpct":ap(this).prepend("<h1>All-time Winning Percentage</h1>");bR.sort(function(b3,b2){return aa(b3.winpct,b2.winpct)});bV=["teamID","winloss","winpct","seasons"];break;case"wins":ap(this).prepend("<h1>All-time Wins</h1>");bR.sort(function(b3,b2){return aa(b3.wins,b2.wins)});bV=["teamID","wins","seasons"];break;default:}bL(bR,bW,bV);function bL(b6,b9,b4){var b2=ap("[data-record="+b9+"] .dataTable");b2.append("<thead /><tbody />");b2.find("thead").append("<tr />");for(var b7=0;b7<b4.length;b7++){var b3=b4[b7];b2.find("thead tr").append('<th class="'+b3+'">'+b3[0].toUpperCase()+b3.slice(1)+"</th>")}for(var b8=0;b8<bZ;b8++){var ca=b6[b8];b2.find("tbody").append('<tr class="record'+b8+'" />');for(var b7=0;b7<b4.length;b7++){var b3=b4[b7];if(b3==="teamID"){var b5=ca.season?ca.season:null;b2.find(".record"+b8).append('<td class="team">'+au(ca[b3])+M(ca[b3],b5)+"</td>")}else{if(b3==="winloss"){b2.find(".record"+b8).append('<td class="'+b3+'">'+ca.wins+"-"+ca.losses+"</td>")}else{b2.find(".record"+b8).append('<td class="'+b3+'">'+ca[b3]+"</td>")}}}}}});ap(".playoffs").each(function(){var bM=ap(this).attr("data-league");var bS=ap(this).attr("data-season");var bP=r(bM,bS);if(!bP.rounds.length){return}var bO=x(bM);var bN=bO.seasons[bS].conferences;var bT=bP.rounds.length;for(var bR=0;bR<bN.length;bR++){var bL=bN[bR];var bQ=(bR===0)?"left":"right";ap(this).append('<div class="bracket '+bQ+'" data-conference="'+bL.conferenceID+'" data-rounds="'+(bT-1)+'" />')}ap(".bracket.left").after('<div class="championship"></div>');ap(".bracket").each(function(b4){var bX=ap(this).attr("data-conference");var bZ=bN[b4];ap(this).append("<h1>"+bZ.conferenceName+"</h1>");for(var b3=0;b3<bT;b3++){var b8=bP.rounds[b3];if(b8.roundType==="finals"){break}ap(this).append('<div class="round round'+b3+'" />');var b5=ap(this).find(".round"+b3);b5.append("<h1>Round "+b8.round+"</h1>");var bW=b8.conferenceSchedule[bX];for(var b2=0;b2<bW.length;b2++){var ca=bW[b2];b5.append('<div class="game game'+(b2+1)+'"></div>');var bU=b5.find(".game"+(b2+1));var b9=ca.homeSeed;if(b9){var b6=parseFloat(ca.homeSeedScore);var b1=o(bX,b9,bM,bS);var cb=aG(b1.teamID,bM,bS);bU.append('<div class="homeTeam" />');bU.find(".homeTeam").append('<span class="seed">'+b9+"</span>");bU.find(".homeTeam").append(au(b1.teamID));bU.find(".homeTeam").append('<a href="'+b1.link+'" class="teamName" title="'+b1.teamName[bS]+" ("+cb+')">'+b1.teamName[bS]+' <span class="record">( '+cb+" )</span></a>");if(isNaN(b6)){b6="-"}else{b6=b6.toFixed(1)}bU.find(".homeTeam").append('<span class="score">'+b6+"</span>")}var bY=ca.awaySeed;if(bY){var b0=parseFloat(ca.awaySeedScore);var b7=o(bX,bY,bM,bS);var bV=aG(b7.teamID,bM,bS);bU.append('<div class="awayTeam" />');bU.find(".awayTeam").append('<span class="seed">'+bY+"</span>");bU.find(".awayTeam").append(au(b7.teamID));bU.find(".awayTeam").append('<a href="'+b7.link+'" class="teamName" title="'+b7.teamName[bS]+" ("+bV+')">'+b7.teamName[bS]+' <span class="record">( '+bV+" )</span></a>");if(isNaN(b0)){b0="-"}else{b0=b0.toFixed(1)}bU.find(".awayTeam").append('<span class="score">'+b0+"</span>")}if(parseInt(ca.awaySeedScore)<parseInt(ca.homeSeedScore)){bU.find(".homeTeam").addClass("boom")}else{if(parseInt(ca.awaySeedScore)>parseInt(ca.homeSeedScore)){bU.find(".awayTeam").addClass("boom")}}if(!bY&&!b9){bU.addClass("TBD");bU.append("<h1>TBD</h1>")}}}});ap(".championship").each(function(){ap(this).append("<h1>Super Bowl</h1>");ap(this).append('<div class="game" />');ap(this).find(".game").append('<div class="champTeam leftTeam"></div><div class="champTeam rightTeam"></div>');var b0=bP.rounds.last().championshipGame;var b1=ap(".bracket.left").attr("data-conference");var b3=ap(".bracket.right").attr("data-conference");var bW,bV,b2,b4;if(b0.homeSeedConference){if(b0.homeSeedConference===b1){bW=b0.homeSeed;bV=b0.awaySeed;b2=b0.homeSeedScore;b4=b0.awaySeedScore}else{bW=b0.awaySeed;bV=b0.homeSeed;b2=b0.awaySeedScore;b4=b0.homeSeedScore}}else{if(b0.awaySeedConference){if(b0.awaySeedConference===b1){bW=b0.awaySeed;bV=b0.homeSeed;b2=b0.awaySeedScore;b4=b0.homeSeedScore}else{bW=b0.homeSeed;bV=b0.awaySeed;b2=b0.homeSeedScore;b4=b0.awaySeedScore}}}var bU=o(b1,bW,bM,bS);var b5=o(b3,bV,bM,bS);var bY=aG(bU.teamID,bM,bS);var bZ=aG(b5.teamID,bM,bS);var bX=ap(".leftTeam");bX.append(au(bU.teamID));bX.append('<a href="'+bU.link+'" class="teamName" title="'+bU.teamName[bS]+" ("+bY+')">'+bU.teamName[bS]+' <span class="record">( '+bY+" )</span></a>");bX.append('<div class="score">'+b2+"</div>");bX=ap(".rightTeam");bX.append(au(b5.teamID));bX.append('<a href="'+b5.link+'" class="teamName" title="'+b5.teamName[bS]+" ("+bZ+')">'+b5.teamName[bS]+' <span class="record">( '+bZ+" )</span></a>");bX.append('<div class="score">'+b4+"</div>")})});ap("#progress").css({"-webkit-animation":"none",animation:"none"}).animate({width:"100%"},300,function(){ap(this).fadeOut(800)})});if(n){ap("body").trigger("dataReady")}function aa(aP,aO){aP=parseFloat(aP);aO=parseFloat(aO);if(aP>aO){return -1}if(aP<aO){return 1}return 0}function P(aO,aQ){var aP=scores.filter(function(aR){return aR.season==aQ&&aR.leagueID==aO});return aP}function ae(aO,aQ){var aP=C.filter(function(aR){return aR.season==aQ&&aR.leagueID==aO});return aP}function x(aO){var aP=l.filter(function(aQ){return aQ.leagueID==aO});return aP[0]}function aF(aO,aQ){var aP=I.filter(function(aR){return aR.leagueID===aO&&(aR.seasons.indexOf(aQ)>-1)});return aP}function ac(aO,aQ){var aP=I.filter(function(aR){return aR.leagueID===aO});return aP}function aM(aO,aQ){var aP=e.filter(function(aR){return aR.leagueID==aO&&aR.season==aQ});return aP}function ag(aO,aQ){var aP=J.filter(function(aR){return aR.leagueID==aO&&(aR.seasons.indexOf(aQ)>-1)});return aP}function af(aO,aQ){var aP=aD.filter(function(aR){return aR.leagueID==aO&&aR.season==aQ});return aP}function aL(aO,aQ){var aP=aD.filter(function(aR){return aR.leagueID==aO&&aR.season==aQ});return aP}function aC(aO,aQ){var aP=R.filter(function(aR){return aR.leagueID==aO&&aR.season==aQ});return aP}function ax(aO,aQ){var aP=aB.filter(function(aR){return aR.leagueID==aO&&aR.season==aQ});return aP}function Z(aO){var aP=I.filter(function(aQ){return aQ.conferenceID==aO});return aP}function ar(aP,aO){var aQ=aP.filter(function(aR){return aR.conferenceID==aO});return aQ}function p(aO){var aP=h.filter(function(aQ){return aQ.conferenceID==aO});return aP}function y(aO){var aP=aB.filter(function(aQ){return aQ.conferenceID==aO});return aP}function H(aQ,aO){var aP=aB.filter(function(aR){return aR.conferenceID==aQ&&aR.round==aO});return aP}function a(aP,aO){var aQ=aP.filter(function(aR){return aR.round==aO});return aQ}function m(aO){var aP=h.filter(function(aQ){return aQ.awayTeam==aO||aQ.homeTeam==aO});return aP}function aw(aO,aQ){var aP=h.filter(function(aR){return aR.leagueID==aO&&aR.season==aQ});return aP}function j(aO){var aP=h.filter(function(aQ){return aQ.week==aO});return aP}function b(aO,aQ,aP,aS){if(aQ==="next"){aQ=ao(l[parseInt(aP)-1].seasons[aS].scores)}var aR=l[parseInt(aP)-1].seasons[aS].schedule.filter(function(aT){return aT.week==aQ});var aR=aR.filter(function(aT){return aT.awayTeam==aO||aT.homeTeam==aO});return aR}function v(aT,aS,aP,aO,aR){var aQ=l[parseInt(aO)-1].seasons[aR].schedule.filter(function(aU){return aU.week==aP&&(aU.awayTeam==aT||aU.homeTeam==aT)&&(aU.awayTeam==aS||aU.homeTeam==aS)});return aQ}function aj(aO,aP){return l[parseInt(aO)-1].seasons[aP].latestWeek}function ao(aP){var aQ=aP[0];var aO=1;for(var aR in aQ){if(aR!=="leagueID"&&aR!=="season"&&aR!=="teamID"){if(parseFloat(aQ[aR])){aO++}}}return aO}function w(aO){var aP=I.filter(function(aQ){return aQ.teamID==aO});return aP[0]}function au(aO){if(aO=="TBA"||aO==undefined){var aP=[{link:"#",photo:"default",teamOwner:"TBA"}]}else{var aP=I.filter(function(aQ){return aQ.teamID==aO})}return'<a href="'+aP[0].link+'" class="teamPhoto"><img src="http://assets.ngin.com/site_files/4359/i/'+aP[0].photo+'.jpg" alt="'+aP[0].teamOwner+'" /></a>'}function Y(aT,aP,aO,aS){var aR=aD.filter(function(aU){return aU.conferenceID==aT&&aU.seed==aP&&aU.season==aS});var aQ=w(aR[0].teamID);return aQ}function o(aT,aP,aO,aS){var aR=l[parseInt(aO)-1].seasons[aS].playoffs.teams.filter(function(aU){return aU.conferenceID==aT&&aU.seed==aP&&aU.season==aS});var aQ=w(aR[0].teamID);return aQ}function M(aO,aQ){var aP=I.filter(function(aS){return aS.teamID==aO});var aR=(aQ)?aP[0].teamName[aQ]:aP[0].teamOwner;return'<a href="'+aP[0].link+'" class="teamLink">'+aR+"</a>"}function aH(aQ,aP){var aO=I.filter(function(aR){return aR.teamID==aQ});return aO[0].seasons[aP].conferenceID}function aI(aO,aQ){var aP=e.filter(function(aT){return aT.teamID===aO&&aT.season===aQ});var aS=aP[0].wins;var aR=aP[0].losses;if(!aS){aS=0}if(!aR){aR=0}if(aS==0&&aR==0){return(0).toFixed(3)}else{return parseFloat((aS/(aS+aR))).toFixed(3)}}function aq(aO){var aP=e.filter(function(aS){return aS.teamID==aO});var aR=aP[0].leagueWins;var aQ=aP[0].leagueLosses;if(!aR){aR=0}if(!aQ){aQ=0}return aR+"-"+aQ}function ab(aO,aP,aR){var aQ=e.filter(function(aU){return aU.teamID===aO&&aU.leagueID===aP&&aU.season===aR});var aT=aQ[0].wins;var aS=aQ[0].losses;if(!aT){aT=0}if(!aS){aS=0}return aT+"-"+aS}function ay(aO,aQ){var aP=e.filter(function(aT){return aT.teamID===aO&&aT.season===aQ});var aS=aP[0].leagueWins;var aR=aP[0].leagueLosses;if(!aS){aS=0}if(!aR){aR=0}if(aS==0&&aR==0){return(0).toFixed(3)}else{return parseFloat((aS/(aS+aR))).toFixed(3)}}function T(aP,aQ,aS){var aO=aA(aP,aQ,aS);var aR=aO.pointsScored;if(!aR){return"0.00"}return aR.toFixed(2)}function ah(aP,aQ,aS){var aO=aA(aP,aQ,aS);var aR=parseFloat(aO.pointsScored);var aT=ao(l[parseInt(aQ)-1].seasons[aS].scores);if(!aR){return"0.00"}return(aR/(aT-1)).toFixed(2)}function B(aP,aQ,aS){var aO=aA(aP,aQ,aS);var aR=parseFloat(aO.pointsAgainst);var aT=ao(l[parseInt(aQ)-1].seasons[aS].scores);if(!aR){return"0.00"}return(aR/((aT-1)*2)).toFixed(2)}function s(aP,aQ,aR){var aO=aA(aP,aQ,aR);var aS=aO.overallRank;return ak(aS)}function aE(aP,aQ,aR){var aO=aA(aP,aQ,aR);var aS=aO.leagueRank;return ak(aS)}function am(aO){var aP=e.filter(function(aR){return aR.teamID==aO});var aQ=aP[0].draftPosition;return ak(aQ)}function U(aR,aO,aP){var aQ=aR.filter(function(aS){return aS.teamID==aO});return parseFloat(aQ[0]["week"+aP]).toFixed(2)}function z(aP,aR,aQ,aT){var aS=l[parseInt(aQ)-1].seasons[aT].projections.filter(function(aU){return aU.teamID===aP});var aO=parseFloat(aS[0]["week"+aR]);if(isNaN(aO)){return" "}else{return aO.toFixed(2)}}function az(aX,aT,aW){var aQ=l[parseInt(aT)-1].seasons[aW].projections.filter(function(aZ){return aZ.teamID==aX});var aV=aA(aX,aT,aW).pointsScored;var aY=ao(l[parseInt(aT)-1].seasons[aW].scores);var aS=0;for(var aP=0;aP<aQ.length;aP++){var aR=aQ[aP];for(var aU in aR){if(aU!=="teamID"&&aU!=="week"+aN&&aU!=="leagueID"&&aU!=="season"){var aO=parseInt(aU.slice(4));if(aO<aY){aS+=parseFloat(aR[aU])}}}}if(aY===1){return"0.00%"}else{return((aV/aS)*100).toFixed(2)+"%"}}function W(aO){var aP=N.filter(function(aQ){return aQ.teamID==aO});return aP}function K(aP,aR,aO){var aQ=N.filter(function(aS){return aS.week===aP&&aS.season===aR&&aS.leagueID===aO});return aQ}function f(aO){var aP=trophyDetails.filter(function(aQ){return aQ.trophyID==aO});return aP[0]}function L(aO){var aP=X.filter(function(aQ){return aQ.teamID==aO});return aP}function g(aO){var aP=w(aO);return aP.historicalRecords.seasons}function ad(aR,aO){var aP=X.filter(function(aT){return aT.teamID==aR&&aT.leagueID==aO});var aS=aP[0].wins;var aQ=aP[0].losses;if(!aS){aS=0}if(!aQ){aQ=0}return aS+"-"+aQ}function A(aQ){var aP=w(aQ);var aO=aP.historicalRecords;return aO.playoffWins+"-"+aO.playoffLosses}function k(aR,aO,aQ){var aP=l[parseInt(aO)-1].seasons[aQ].playoffs.teams.filter(function(aS){return aS.teamID==aR});return aP.length}function u(aP){var aO=w(aP);return aO.historicalRecords.madePlayoffs}function ak(aO){if(aO==1||aO==21){return aO+="st"}else{if(aO==2||aO==22){return aO+="nd"}else{if(aO==3||aO==23){return aO+="rd"}else{return aO+="th"}}}}function i(aO){return l[parseInt(aO)-1].season}function q(aO,aP){return l[parseInt(aO)-1].seasons[aP].standings}function V(aO,aP){return l[parseInt(aO)-1].seasons[aP].schedule}function t(aO,aP){return l[parseInt(aO)-1].seasons[aP].teams}function r(aO,aP){return l[parseInt(aO)-1].seasons[aP].playoffs}function at(aR,aO,aQ){var aP=l[parseInt(aO)-1].seasons[aQ].conferences.filter(function(aS){return aS.conferenceID===aR});return aP[0]}function aA(aR,aO,aQ){var aP=l[parseInt(aO)-1].seasons[aQ].standings.filter(function(aS){return aS.teamID==aR});return aP[0]}function d(aR,aO,aQ){var aP=l[parseInt(aO)-1].seasons[aQ].schedule.filter(function(aS){return aS.homeTeam===aR||aS.awayTeam===aR});return aP}function F(aR,aO,aQ){var aP=l[parseInt(aO)-1].seasons[aQ].scores.filter(function(aS){return aS.teamID==aR});return aP[0]}function Q(aO,aR,aP){var aQ=l[parseInt(aO)-1].seasons[aR].projections;aQ=aQ.sort(function(aT,aS){return aa(aT["week"+aP],aS["week"+aP])});return aQ}function aG(aP,aO,aQ){if(parseInt(aP)){aP=aA(aP,aO,aQ)}var aS=aP.wins;var aR=aP.losses;if(!aS){aS=0}if(!aR){aR=0}return aS+"-"+aR}function E(aP){var aO=w(aP);return aO.historicalRecords.wins+"-"+aO.historicalRecords.losses+"-"+aO.historicalRecords.ties}function D(aO,aS,aP,aQ){var aR=aQ.filter(function(aT){return aT.seedID==aO&&aT.conferenceID==aS});return aR[0]["round"+aP]}function aJ(aR,aO){for(var aQ=0;aQ<I.length;aQ++){var aP=I[aQ];if(aP.teamID===aR){aP.historicalRecords.wins+=1;return}}}function al(aR,aO){for(var aQ=0;aQ<I.length;aQ++){var aP=I[aQ];if(aP.teamID===aR){aP.historicalRecords.losses+=1;return}}}function an(aQ,aX,aP,aO,aU){var aV=false;var aW=false;for(var aY=0;aY<I.length;aY++){if(aV&&aW){return}var aR=I[aY];if(aR.teamID===aQ){for(var aT=0;aT<aR.head2head.length;aT++){var aS=aR.head2head[aT];if(aS.teamID===aX){if(aP){aS.playoffWins+=1;aS.playoffpointsScored+=aO;aS.playoffpointsAgainst+=aU}else{aS.wins+=1;aS.pointsScored+=aO;aS.pointsAgainst+=aU;aS.winPct=(parseInt(aS.wins)/(parseInt(aS.wins)+parseInt(aS.losses))).toFixed(3)}aV=true;break}}}else{if(aR.teamID===aX){for(var aT=0;aT<aR.head2head.length;aT++){var aS=aR.head2head[aT];if(aS.teamID===aQ){if(aP){aS.playoffLosses+=1;aS.playoffpointsScored+=aU;aS.playoffpointsAgainst+=aO}else{aS.losses+=1;aS.pointsScored+=aU;aS.pointsAgainst+=aO;aS.winPct=(parseInt(aS.wins)/(parseInt(aS.wins)+parseInt(aS.losses))).toFixed(3)}aW=true;break}}}}}}function S(aP){var aO=I.filter(function(aQ){return aQ.teamID==aP});return aO[0].head2head}function c(aQ){for(var aP=0;aP<I.length;aP++){var aO=I[aP];if(aO.teamID===aQ){aO.historicalRecords.madePlayoffs+=1;return}}}function O(aQ){for(var aP=0;aP<I.length;aP++){var aO=I[aP];if(aO.teamID===aQ){aO.historicalRecords.playoffWins+=1;return}}}function av(aQ){for(var aP=0;aP<I.length;aP++){var aO=I[aP];if(aO.teamID===aQ){aO.historicalRecords.playoffLosses+=1;return}}}function ai(aO){if(isNaN(parseFloat(aO))||parseFloat(aO)===0){return"0.00"}return(aO/(aN-1)).toFixed(2)}ap(".newsAggregatorElement .item").each(function(){var aQ=ap(this).find(".newsItemElement").length;if(aQ>0){ap(this).addClass("expanded")}else{ap(this).addClass("condensed")}var aO=ap(this).find("img");if(aO.length>0){if(ap(this).hasClass("condensed")){}else{var aP=aO.attr("src");aO.attr("src",aP.replace(/_thumb\.(png|jpg|jpeg|gif|JPG|JPEG)/,"_large.$1"));aO.load(function(){var aW=aO.width();var aT=aO.height();var aY=aO.parent().width();var aX=aO.parent().height();var aS=(aW/aT);var aV=(aY/aX);if(aS>aV){aO.css({height:"100%"});var aW=aO.width();var aY=aO.parent().width();var aU=((aW-aY)/2);aO.css({"margin-left":"-"+aU+"px"})}else{if(aS<aV){aO.css({width:"100%"});var aT=aO.height();var aX=aO.parent().height();var aR=((aT-aX)/2);aO.css({"margin-top":"-"+aR+"px"})}}})}}else{if(ap(this).hasClass("condensed")){$link=ap(this).find("a").first().attr("href");ap(this).prepend('<a href="'+$link+'" class="no-image"><img src="http://assets.ngin.com/theme_images/minimal/usa_hockey/generic-article.jpg" /></a>');ap(this).find("ul").addClass("details")}else{ap(this).addClass("no-img")}}});ap(".newsPreviewThumb").each(function(){ap(this).wrap('<div class="heroWrap" />');ap(this).load(function(){var aR=ap(this);var aV=aR.width();var aT=aR.height();var aS=aR.parent().width();var aQ=aR.parent().height();var aP=(aV/aT);var aW=(aS/aQ);if(aP>aW){aR.css({height:"100%"});var aV=aR.width();var aS=aR.parent().width();var aO=((aV-aS)/2);aR.css({"margin-left":"-"+aO+"px"})}else{if(aP<aW){aR.css({width:"100%"});var aT=aR.height();var aQ=aR.parent().height();var aU=((aT-aQ)/2);aR.css({"margin-top":"-"+aU+"px"})}}})})})(jQuery);